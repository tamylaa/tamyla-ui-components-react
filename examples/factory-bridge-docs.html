<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Factory Bridge Pattern - Technical Documentation</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f8f9fa;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        .hero {
            background: linear-gradient(135deg, #2D1B69 0%, #11998e 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-weight: 700;
        }
        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        .section {
            padding: 40px;
        }
        .section h2 {
            font-size: 2rem;
            color: #2D1B69;
            margin-bottom: 20px;
            border-bottom: 3px solid #11998e;
            padding-bottom: 10px;
        }
        .bridge-diagram {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 30px;
            align-items: center;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
        }
        .bridge-side {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        .bridge-connector {
            text-align: center;
            font-size: 2rem;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #11998e;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #2D1B69;
        }
        .feature-card h3 {
            color: #2D1B69;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        .demo-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        .comparison-table th {
            background: #2D1B69;
            color: white;
            font-weight: 600;
        }
        .comparison-table tr:hover {
            background: #f8f9fa;
        }
        .highlight {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        .architecture-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .flow-step {
            text-align: center;
            flex: 1;
            padding: 20px;
        }
        .flow-step .step-number {
            background: #2D1B69;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }
        .flow-arrow {
            font-size: 1.5rem;
            color: #11998e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>üåâ Factory Bridge Pattern</h1>
            <p>Seamless integration between vanilla JavaScript UI components and React ecosystem</p>
        </div>

        <div class="section">
            <h2>üéØ Overview</h2>
            <p>The Factory Bridge pattern enables us to create React components that wrap vanilla JavaScript UI components, providing seamless integration while maintaining the benefits of both approaches.</p>
            
            <div class="bridge-diagram">
                <div class="bridge-side">
                    <h3>üèóÔ∏è Vanilla Components</h3>
                    <p><strong>@tamyla/ui-components</strong></p>
                    <ul style="text-align: left; margin-top: 15px;">
                        <li>Pure JavaScript</li>
                        <li>Framework agnostic</li>
                        <li>Lightweight</li>
                        <li>Reusable across projects</li>
                    </ul>
                </div>
                
                <div class="bridge-connector">
                    üåâ<br>
                    <span style="font-size: 0.8rem;">Bridge</span>
                </div>
                
                <div class="bridge-side">
                    <h3>‚öõÔ∏è React Components</h3>
                    <p><strong>@tamyla/ui-components-react</strong></p>
                    <ul style="text-align: left; margin-top: 15px;">
                        <li>React integration</li>
                        <li>Hooks support</li>
                        <li>JSX syntax</li>
                        <li>State management</li>
                    </ul>
                </div>
            </div>

            <div class="highlight">
                <strong>üí° Key Insight:</strong> Instead of rewriting components for React, we create a bridge that wraps vanilla components, maintaining a single source of truth while providing React-specific features.
            </div>
        </div>

        <div class="section">
            <h2>üèóÔ∏è Architecture Flow</h2>
            <div class="architecture-flow">
                <div class="flow-step">
                    <div class="step-number">1</div>
                    <h4>Vanilla Component</h4>
                    <p>Core UI logic in pure JavaScript</p>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-number">2</div>
                    <h4>Factory Function</h4>
                    <p>Creates React wrapper</p>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-number">3</div>
                    <h4>React Component</h4>
                    <p>Fully integrated React component</p>
                </div>
                <div class="flow-arrow">‚Üí</div>
                <div class="flow-step">
                    <div class="step-number">4</div>
                    <h4>Application</h4>
                    <p>Used in React applications</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üíª Implementation</h2>
            
            <h3>Factory Bridge Function</h3>
            <div class="code-block">
/**
 * Factory Bridge Pattern Implementation
 * Creates React components from vanilla JavaScript components
 */
const createFactoryComponent = (VanillaComponent) => {
  return React.forwardRef((props, ref) => {
    return React.createElement(VanillaComponent, { ...props, ref });
  });
};

// Usage example
const ReactButton = createFactoryComponent(TamylaUIComponents.Button);
            </div>

            <h3>Vanilla Component (Source)</h3>
            <div class="code-block">
// @tamyla/ui-components - Button.js
const Button = ({ children, variant = 'primary', size = 'medium', onClick, ...props }) => {
  const variants = {
    primary: { bg: '#2D1B69', color: 'white' },
    secondary: { bg: '#11998e', color: 'white' },
    danger: { bg: '#dc3545', color: 'white' }
  };
  
  const sizes = {
    small: { padding: '6px 12px', fontSize: '14px' },
    medium: { padding: '10px 20px', fontSize: '16px' },
    large: { padding: '14px 28px', fontSize: '18px' }
  };

  return React.createElement('button', {
    onClick,
    style: {
      background: variants[variant]?.bg,
      color: variants[variant]?.color,
      border: 'none',
      borderRadius: '6px',
      cursor: 'pointer',
      fontWeight: '500',
      ...sizes[size],
      ...props.style
    }
  }, children);
};
            </div>

            <h3>React Component (Bridge Result)</h3>
            <div class="code-block">
// @tamyla/ui-components-react - Button.jsx
import { createFactoryComponent } from './factory-bridge';
import { Button as VanillaButton } from '@tamyla/ui-components';

export const Button = createFactoryComponent(VanillaButton);

// Usage in React
function App() {
  const [count, setCount] = useState(0);
  
  return (
    &lt;Button 
      variant="primary" 
      size="large"
      onClick={() => setCount(count + 1)}
    &gt;
      Clicked {count} times
    &lt;/Button&gt;
  );
}
            </div>
        </div>

        <div class="section">
            <h2>‚ú® Benefits</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üîÑ Code Reusability</h3>
                    <p>Write once, use everywhere. Vanilla components can be used in any framework or vanilla JavaScript project.</p>
                </div>
                <div class="feature-card">
                    <h3>üéØ Consistency</h3>
                    <p>Ensures design system consistency across different implementation frameworks.</p>
                </div>
                <div class="feature-card">
                    <h3>‚ö° Performance</h3>
                    <p>Minimal overhead as we're wrapping, not re-implementing components.</p>
                </div>
                <div class="feature-card">
                    <h3>üõ†Ô∏è Maintenance</h3>
                    <p>Updates to vanilla components automatically propagate to React versions.</p>
                </div>
                <div class="feature-card">
                    <h3>üì¶ Bundle Size</h3>
                    <p>Smaller bundle sizes by sharing common component logic.</p>
                </div>
                <div class="feature-card">
                    <h3>üîß TypeScript Support</h3>
                    <p>Full type safety with shared type definitions.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìä Comparison</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Approach</th>
                        <th>Maintenance</th>
                        <th>Consistency</th>
                        <th>Performance</th>
                        <th>Framework Support</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Separate Implementations</strong></td>
                        <td>‚ùå High (multiple codebases)</td>
                        <td>‚ö†Ô∏è Medium (manual sync)</td>
                        <td>‚úÖ Good</td>
                        <td>‚úÖ Native support</td>
                    </tr>
                    <tr>
                        <td><strong>Factory Bridge Pattern</strong></td>
                        <td>‚úÖ Low (single source)</td>
                        <td>‚úÖ High (automatic sync)</td>
                        <td>‚úÖ Excellent</td>
                        <td>‚úÖ Universal support</td>
                    </tr>
                    <tr>
                        <td><strong>Web Components</strong></td>
                        <td>‚úÖ Low (single source)</td>
                        <td>‚úÖ High</td>
                        <td>‚ö†Ô∏è Good (heavier)</td>
                        <td>‚ö†Ô∏è Limited React integration</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>üöÄ Real-World Example</h2>
            <div class="demo-section">
                <h3>Trading Portal Button Usage</h3>
                <p>The same button component is used across different parts of our application:</p>
                
                <div class="code-block">
// In vanilla JavaScript (landing page)
const buyButton = TamylaUIComponents.Button({
  variant: 'success',
  children: 'Buy BTC',
  onClick: () => executeTrade('BTC', 'buy')
});

// In React (trading dashboard)
function TradingDashboard() {
  return (
    &lt;Button 
      variant="success"
      onClick={() => executeTrade('BTC', 'buy')}
    &gt;
      Buy BTC
    &lt;/Button&gt;
  );
}

// In Vue.js (admin panel) - hypothetical
&lt;template&gt;
  &lt;TamylaButton 
    variant="success" 
    @click="executeTrade('BTC', 'buy')"
  &gt;
    Buy BTC
  &lt;/TamylaButton&gt;
&lt;/template&gt;
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üéØ Use Cases</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üåê Multi-Framework Projects</h3>
                    <p>When you need the same components across React, Vue, Angular, or vanilla JavaScript.</p>
                </div>
                <div class="feature-card">
                    <h3>üìö Design Systems</h3>
                    <p>Maintaining consistency across different application stacks within an organization.</p>
                </div>
                <div class="feature-card">
                    <h3>üîÑ Migration Projects</h3>
                    <p>Gradually migrating from one framework to another while maintaining component consistency.</p>
                </div>
                <div class="feature-card">
                    <h3>üì¶ Component Libraries</h3>
                    <p>Publishing component libraries that work across multiple frameworks.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üé® Live Demo</h2>
            <div id="live-demo" class="demo-section">
                <p>Loading interactive demonstration...</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState } = React;

        // Vanilla Component
        const VanillaButton = ({ children, variant = 'primary', onClick, ...props }) => {
            const variants = {
                primary: { bg: '#2D1B69', color: 'white' },
                secondary: { bg: '#11998e', color: 'white' },
                success: { bg: '#28a745', color: 'white' }
            };

            return React.createElement('button', {
                onClick,
                style: {
                    background: variants[variant]?.bg,
                    color: variants[variant]?.color,
                    border: 'none',
                    borderRadius: '6px',
                    padding: '12px 24px',
                    cursor: 'pointer',
                    fontWeight: '500',
                    fontSize: '16px',
                    transition: 'all 0.2s ease',
                    margin: '5px',
                    ...props.style
                }
            }, children);
        };

        // Factory Bridge
        const createFactoryComponent = (VanillaComponent) => {
            return React.forwardRef((props, ref) => {
                return React.createElement(VanillaComponent, { ...props, ref });
            });
        };

        // React Component
        const ReactButton = createFactoryComponent(VanillaButton);

        // Demo Component
        const LiveDemo = () => {
            const [vanilla, setVanilla] = useState(0);
            const [react, setReact] = useState(0);

            return React.createElement('div', null, [
                React.createElement('h4', { key: 'title' }, 'Interactive Comparison'),
                React.createElement('div', {
                    key: 'demo',
                    style: {
                        display: 'grid',
                        gridTemplateColumns: '1fr 1fr',
                        gap: '30px',
                        marginTop: '20px'
                    }
                }, [
                    React.createElement('div', {
                        key: 'vanilla-demo',
                        style: {
                            padding: '20px',
                            background: 'white',
                            borderRadius: '8px',
                            textAlign: 'center'
                        }
                    }, [
                        React.createElement('h5', { key: 'title' }, 'Vanilla Component'),
                        React.createElement('div', {
                            key: 'code',
                            style: {
                                background: '#f8f9fa',
                                padding: '10px',
                                borderRadius: '4px',
                                fontSize: '12px',
                                marginBottom: '15px',
                                fontFamily: 'monospace'
                            }
                        }, 'VanillaButton({ ... })'),
                        React.createElement(VanillaButton, {
                            key: 'button',
                            variant: 'primary',
                            onClick: () => setVanilla(vanilla + 1)
                        }, `Vanilla: ${vanilla}`),
                        React.createElement('p', {
                            key: 'desc',
                            style: { fontSize: '14px', color: '#666', marginTop: '10px' }
                        }, 'Direct vanilla component usage')
                    ]),
                    React.createElement('div', {
                        key: 'react-demo',
                        style: {
                            padding: '20px',
                            background: 'white',
                            borderRadius: '8px',
                            textAlign: 'center'
                        }
                    }, [
                        React.createElement('h5', { key: 'title' }, 'React Component (Bridge)'),
                        React.createElement('div', {
                            key: 'code',
                            style: {
                                background: '#f8f9fa',
                                padding: '10px',
                                borderRadius: '4px',
                                fontSize: '12px',
                                marginBottom: '15px',
                                fontFamily: 'monospace'
                            }
                        }, '<ReactButton ... />'),
                        React.createElement(ReactButton, {
                            key: 'button',
                            variant: 'success',
                            onClick: () => setReact(react + 1)
                        }, `React: ${react}`),
                        React.createElement('p', {
                            key: 'desc',
                            style: { fontSize: '14px', color: '#666', marginTop: '10px' }
                        }, 'Factory bridge pattern wrapper')
                    ])
                ])
            ]);
        };

        ReactDOM.render(React.createElement(LiveDemo), document.getElementById('live-demo'));
    </script>
</body>
</html>
